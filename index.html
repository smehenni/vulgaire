<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta data-rh="true" property="og:image" content="https://smehenni.github.io/vulgaire/assets/img/og-img.jpg" />
        <meta data-rh="true" name="twitter:image:src" content="https://smehenni.github.io/vulgaire/assets/img/og-img.jpg" />
        <title>VULGAIRE - NLP appliqu√© √† la vulgarit√© fran√ßaise</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;400;500;700&display=swap" rel="stylesheet">        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="http://mehenni.cargo.site/" target="_blank">SAM</a><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><i class="fas fa-bars"></i></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">Sous √âcoute</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#method">M√©thodologie</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#results">R√©sultats</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container d-flex h-100 align-items-center">
                <div class="mx-auto text-center">
                    <h1 class="mx-auto my-0 text-uppercase">Vulgaire</h1>
                    <h2 class="mx-auto mt-2 mb-5">Analyse et visualisation de l'emploi de la vulgarit√© dans les podcasts francophones</h2>
                    <a class="btn btn-primary js-scroll-trigger" href="#about">Mike ward sous √©coute</a>
                </div>
            </div>
        </header>
        <!-- About-->
        <section class="about-section text-center" id="about">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto" style="padding-bottom: 4rem;">
                        <h5 class="text-white mb-4" style="text-transform: uppercase; color: #fcc01e !important;">Projet 1</h5>
                        <h2 class="text-white mb-4">Mike Ward Sous √âcoute</h2>
                        <p class="text-white-50 intro" style="text-align: left;"><a class="jaune" href="https://www.youtube.com/channel/UCKhVag9OGIOJu_x430Dmedw" target="_blank">Sous √âcoute</a>, c‚Äôest le premier ph√©nom√®ne du podcast qu√©b√©cois. Avec des millions d‚Äô√©coutes et de visionnements depuis ses d√©buts en 2015, des centaines d‚Äôinvit√©s ont gravi les tabourets du Bordel Com√©die Club afin d‚Äôenregistrer cet ‚Äî hilarant ‚Äî podcast devant public. Que vous soyez fan ou non du standup de Mike, son podcast a √©t√© l‚Äôun des premiers √† donner une vitrine aux humoristes de la rel√®ve, avec une formule longue et pratiquement sans publicit√©. C‚Äôest un incontournable.</p>
                        <img class="img-fluid" src="assets/img/bg-mike-v2.jpg" alt="" />
                        <h2 class="text-white mb-4 ">L'id√©e</h2>
                        <p class="text-white-50 intro" style="text-align: left;">Depuis quelques temps d√©j√†, Youtube offre une transcription automatis√©e de vid√©os francophones, permettant de suivre une vid√©o ou un podcast avec des sous-titres. Force est de constater que la fonctionnalit√© n‚Äôest pas au point pour l‚Äôaccent Qu√©b√©cois, particuli√®rement √† la vitesse des dialogues pour une majorit√© des √©pisodes. Le Qu√©bec √©tant connu pour ses sacres et son emploi saugrenu de la vulgarit√©, il m‚Äôest donc venu l‚Äôid√©e d‚Äôanalyser la transcription des √©pisodes et de produire quelques visualisations sans pr√©tention scientifique...</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Projects-->
        <section class="projects-section bg-light" id="method">
            <div class="container">
                <!-- Featured Project Row-->
                    <div class="col-lg-8 mx-auto text-center">
                         <h2 class="text-black mb-4">La M√©thodologie</h2>
                    </div>

                <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="assets/img/episodes.jpg" alt="" /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>162 √©pisodes. 340 heures.</h4>
                            <p class="text-black-50 mb-0">Quelques √©pisodes n‚Äô√©taient malheureusement pas disponible pour la transcription (YAN!?), donc il a √©t√© possible de g√©n√©rer l‚Äôanalyse sur seulement 162 des 243 √©pisodes diffus√©s. Au total, ce sont 340 heures de contenu audio qui a d√ª √™tre t√©l√©charg√©, nettoy√©, et analys√© pour produire les visualisations ci-bas. √áa fait beaucoup de sacres ‚Äî<br><b>5634 pour √™tre exact</b>.</p>
                        </div>
                    </div>
                </div>

                <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="assets/img/dictionnaire.png" alt="" /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>Dictionnaire</h4>
                            <p class="text-black-50 mb-0">J'ai rassembl√© ce que je crois √™tre les termes qu√©b√©cois, plus ou moins vulgaires, les plus utilis√©s lors de mes √©coutes. Vu l'automatisation de la transcription par Youtube, plusieurs termes comme "criss" sont interpr√©t√©s de multiples fa√ßons par l'algorithme, n√©cessitant l'agr√©gation de plusieurs variations comme "christ" et "chris" sous le m√™me chapeau.</p>
                        </div>
                    </div>
                </div>

                <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="assets/img/trashscore.png" alt="" /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>Trash Score</h4>
                            <p class="text-black-50 mb-0">Puisqu‚Äôaucun mot vulgaire n‚Äôest √©quivalent, il m‚Äôa fallu √©tablir un score (aucunement scientifique) sur l‚Äôinterpr√©tation de la vulgarit√© de chacun des termes. Tabarnak, criss et c√¢lisse se hissent au sommet des termes vulgaires avec un score de 1 par mention. Les autres termes oscillent entre un score de 0.8 (fuck) et 0.4 (tabarouette). Le Trash Score d‚Äôun √©pisode repr√©sente la somme totale du score des mots du dictionnaire mentionn√©s. </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-8 mx-auto text-center" style="padding-bottom: 4rem; padding-top: 4rem;" id="results">
                    <h2 class="text-black mb-4">R√©sultats</h2>
                    <p class="text-black-50 mb-0">Classement du Trash Score par √©pisode, o√π <i>y= score et x= # de l'√©pisode</i>. Les √©pisodes dans la partie sup√©rieure du graphique sont √† priori les plus vulgaires, contrairement √† ceux du bas. Vous pouvez survoler les points pour plus d'informations.</p>
               </div>

                <div class="row align-items-center no-gutters mb-4 mb-lg-5 ">
                    <iframe title="Sous √âcoute - Comparaison des √©pisodes" aria-label="chart" id="datawrapper-chart-eiHiv" src="https://datawrapper.dwcdn.net/eiHiv/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="543"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"])for(var e in a.data["datawrapper-height"]){var t=document.getElementById("datawrapper-chart-"+e)||document.querySelector("iframe[src*='"+e+"']");t&&(t.style.height=a.data["datawrapper-height"][e]+"px")}}))}();
                    </script>
                </div>

                <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
                    <div class="col-lg-6">
                        <div class="text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-left" >
                                    <h4 class="text-black">üö® Les plus vulgaires</h4>
                                    <p class="mb-0 text-black-50" style="padding-bottom: 1rem;">Cinq √©pisodes avec le Trash Score le plus √©lev√©.</p>
                                    <hr class="d-none d-lg-block mb-0 ml-0" style="padding-bottom: 2rem;" />
                                    <img class="img-fluid" src="assets/img/plus-v.png" alt="" />
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="col-lg-6">
                        <div class="text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-left" >
                                    <h4 class="text-black">üêº Les moins vulgaires</h4>
                                    <p class="mb-0 text-black-50" style="padding-bottom: 1rem;">Cinq √©pisodes avec le Trash Score le plus bas.</p>
                                    <hr class="d-none d-lg-block mb-0 ml-0" style="padding-bottom: 2rem;" />
                                    <img class="img-fluid" src="assets/img/moins-v.png" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-10 mx-auto text-center" style="padding-bottom: 4rem;" id="results">
                    <h2 class="text-black mb-4">Recensement</h2>
                    <p class="text-black-50 mb-0">Classement des termes vulgaires les plus entendus au fil des √©pisodes.</p>
                    <div class="row align-items-center no-gutters mb-4 mb-lg-5" style="padding-top: 4rem;">
                        <iframe title="Sous √âcoute - Recensement" aria-label="Bar Chart" id="datawrapper-chart-QwYBq" src="https://datawrapper.dwcdn.net/QwYBq/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="463"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"])for(var e in a.data["datawrapper-height"]){var t=document.getElementById("datawrapper-chart-"+e)||document.querySelector("iframe[src*='"+e+"']");t&&(t.style.height=a.data["datawrapper-height"][e]+"px")}}))}();
                        </script>
                    </div>
               </div>



               <div class="row align-items no-gutters mb-4 mb-lg-5">
                <div class="col-xl-7 col-lg-7">
                    <div class="featured-text text-center text-lg-left">
                        <h4>Code & outils</h4>
                        <p class="text-black-50 mb-0">1. J‚Äôai utilis√© <a class="code" href="https://github.com/ytdl-org/youtube-dl" target="_blank"><code>youtube-dl</code></a> pour le scraping des titres, urls et des sous-titres. Cet outil command-line permet de r√©cup√©rer des vid√©os et des m√©tadonn√©es d'une majorit√© de plateformes, dont Youtube et Tou.tv. Quelques exemples de commandes;</p>
                        <p class="snippet"><span style="color: #999">#Obtenir les URLs des vid√©os d'une playlist</span><br><br>youtube-dl -j --flat-playlist "URL" | jq -r '.id' | sed 's_^_https://youtu.be/_' > urls.txt<br><br><span style="color: #999">#Obtenir les titres des vid√©os d'une playlist</span><br><br>youtube-dl --get-title URL > titres.txt<br><br><span style="color: #999"># Obtenir la transcription fran√ßaise des vid√©os d'une playlist, sans les t√©l√©charger</span><br><br>youtube-dl --write-auto-sub --sub-lang 'fr' --skip-download -o "%(title)s.%(ext)s" -v URL</p>
                        <p class="text-black-50 mb-0">2. Un peu de nettoyage des fichiers .vtt est n√©cessaire vu le format brut utilis√© par youtube. J‚Äôai modifi√© un script python que j‚Äôai trouv√© en ligne qui permet de retirer tout le flafla et les duplications des fichiers .vtt, et de conserver seulement le corps du texte qui nous int√©resse avec la minute (HH:MM) du bloc de transcription. Vous pouvez trouver <a class="code" href="https://github.com/smehenni/vulgaire/blob/master/scripts/vtt.py" target="_blank">le script ici</a>, et le faire rouler pour tous les fichiers d‚Äôun dossier avec:</p>
                        <p class="snippet">find . -name "*.vtt" -exec python vtt.py {} \;</p>
                        <p class="text-black-50 mb-0">3. Pour effectuer un d√©compte associ√© aux termes d'un dictionnaire, vous pouvez utiliser fgrep et awk avec une commande du genre: </p>
                        <p class="snippet">fgrep -of dictionnaire.txt *.txt | sort | uniq -c | awk '{print $2 " " $1}' > recensement.txt</p>
                    </div>
                </div>
                <div class="col-xl-5 col-lg-5">
                    <div class="featured-text text-center text-lg-left">
                        <h4>Limites</h4>
                        <p class="text-black-50 mb-0">En regardant les transcriptions brutes de Youtube, il est √©vident que l‚Äôalgorithme de reconnaissance vocale n‚Äôest pas encore au point pour le fran√ßais qu√©b√©cois. Le d√©bit de parole et la familiarit√© des expressions utilis√©es lors du podcast compliquent l‚Äôinterpr√©tation au point tel que seulement une minorit√© des phrases sont syntaxiquement correctes. Il faut donc prendre ces r√©sultats avec un grain de sel.<br><br></p>
                        <h4>Donn√©es brutes</h4>
                        <p class="text-black-50 mb-0">Vous pouvez t√©l√©charger <a class="code" href="https://github.com/smehenni/vulgaire/blob/master/data/sous-ecoute/sousecoute-tableau-episodes.csv" target="_blank">un .CSV des √©pisodes</a> avec les r√©sultats, ou encore acc√®der <a class="code" href="https://github.com/smehenni/vulgaire/tree/master/data/sous-ecoute/raw-subtitles" target="_blank">aux fichiers bruts</a> de transcription par √©pisode.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Signup-->
        <section class="footer-section">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-lg-8 mx-auto text-center">
                        <h2 class="text-white mb-5">üëã<br><br>Un projet de <a class="jaune" href="http://mehenni.cargo.site/" target="_blank">Sam Mehenni</a></h2>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer bg-black small text-center text-white-50"><div class="container">Copyright ¬© 2020 - Photos par <a class="jaune" href="https://www.instagram.com/michelgrenier/?hl=en" target="_blank">Michel Grenier</a>.</div></footer>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <script src="js/scripts.js"></script>
    </body>
</html>
